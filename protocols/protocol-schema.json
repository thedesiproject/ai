{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "required": ["key", "stage", "steps", "dependencies"],
  "additionalProperties": false,
  "properties": {
    "key": { "type": "string", "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$" },
    "stage": { "type": "integer", "minimum": 0, "maximum": 5 },
    "dependencies": { 
      "type": "array", 
      "items": { "type": "string", "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$" }
    },
    "steps": { "type": "array", "items": { "type": "string" } },
    "config": { "type": "object", "additionalProperties": true },
    "outputs": { "type": "array", "items": { "type": "string" } },
    "rules": { "type": "array", "items": { "type": "string" } }
  }
}